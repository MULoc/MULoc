/*
 ********************************************************************************
 *
 *                                 hal_rtc.h
 *
 * File          : hal_rtc.h
 * Version       : V1.0
 * Author        : tony
 * Mode          : Thumb2
 * Toolchain     : 
 * Description   : 开发板硬件驱动 
 *                
 * History       :
 * Date          : 2013.07.22
 *******************************************************************************/
 
#ifndef __HAL_RTC_H
#define __HAL_RTC_H

#ifdef __cplusplus
extern "C"
{
#endif

/**************************************************************************************************
 * 																				INCLUDES
 **************************************************************************************************/
#include "stm32f10x.h"	
#include "OSAL_Clock.h"
#include "OSAL_Comdef.h"
	
/**************************************************************************************************
 * 																				CONSTANTS
 **************************************************************************************************/	
	
	
	
/***************************************************************************************************
 * 																				TYPEDEF
 ***************************************************************************************************/
typedef struct 
{
	vu8 hour;
	vu8 min;
	vu8 sec;			
	//公历日月年周
	vu16 w_year;
	vu8  w_month;
	vu8  w_date;
	vu8  week;		 
}_calendar_obj;					 
extern _calendar_obj calendar;				//日历结构体	
	

	
	
/***************************************************************************************************
 * 																				GLOBAL VARIABLES
 ***************************************************************************************************/
extern uint8_t HalRTCInit (void);	
	
	
/**************************************************************************************************
 *                                        FUNCTIONS - API
 **************************************************************************************************/	
static void Hal_RTC_NVIC_Config(void);

static uint8_t Is_Leap_Year(uint16_t year);						//平年,闰年判断
static uint8_t Hal_RTC_Get(void);         						//更新时间   
static uint8_t Hal_RTC_Get_Week(uint16_t year,uint8_t month,uint8_t day);
static uint8_t Hal_RTC_Set(uint16_t syear,uint8_t smon,uint8_t sday,
												uint8_t hour,uint8_t min,uint8_t sec);//设置时间			 

#ifdef __cplusplus
}
#endif

#endif//__HAL_RTC_H

/**************************************************************************************************
**************************************************************************************************/
